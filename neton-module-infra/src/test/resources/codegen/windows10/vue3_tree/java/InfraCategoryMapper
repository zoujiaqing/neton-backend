package com.gitlab.neton.module.infra.dal.mysql.demo;

import java.util.*;

import com.gitlab.neton.framework.common.pojo.PageResult;
import com.gitlab.neton.framework.mybatis.core.query.LambdaQueryWrapperX;
import com.gitlab.neton.framework.mybatis.core.mapper.BaseMapperX;
import com.gitlab.neton.module.infra.dal.dataobject.demo.InfraCategoryDO;
import org.apache.ibatis.annotations.Mapper;
import com.gitlab.neton.module.infra.controller.admin.demo.vo.*;

/**
 * 分类 Mapper
 *
 * @author Neton
 */
@Mapper
public interface InfraCategoryMapper extends BaseMapperX<InfraCategoryDO> {

    default List<InfraCategoryDO> selectList(InfraCategoryListReqVO reqVO) {
        return selectList(new LambdaQueryWrapperX<InfraCategoryDO>()
                .likeIfPresent(InfraCategoryDO::getName, reqVO.getName())
                .orderByDesc(InfraCategoryDO::getId));
    }

	default InfraCategoryDO selectByParentIdAndName(Long parentId, String name) {
	    return selectOne(InfraCategoryDO::getParentId, parentId, InfraCategoryDO::getName, name);
	}

    default Long selectCountByParentId(Long parentId) {
        return selectCount(InfraCategoryDO::getParentId, parentId);
    }

}